const supabaseUrl="https://ijhfidvohtkcmpdhgzwz.supabase.co",supabaseKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlqaGZpZHZvaHRrY21wZGhnend6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDUzMDY4NjUsImV4cCI6MjA2MDg4Mjg2NX0.4-DicPttGvOJ30UFwvOONrkybrvCxP5dgqn5oEXo-Dk",DataFromSupaBase={access_token:null,expires:null,logged_in_via:null};async function signIn(email="anonymous@example.com",password="Guest1234"){if(DataFromSupaBase.access_token)return DataFromSupaBase;const user=JSON.parse(localStorage.getItem("user"));if(user&&"anonymous@example.com"==email){if(user.expires>Date.now())return DataFromSupaBase.access_token=user.access_token,DataFromSupaBase.expires=user.expires,DataFromSupaBase.logged_in_via=user.logged_in_via,user;localStorage.removeItem("user")}const response=await fetch(`${supabaseUrl}/auth/v1/token?grant_type=password`,{method:"POST",headers:{"Content-Type":"application/json",apikey:supabaseKey},body:JSON.stringify({email:email,password:password})}),data=await response.json();if(response.ok){const saveDataForeLater={access_token:data.access_token,expires:1e3*data.expires_in+Date.now(),logged_in_via:data.user.email};return localStorage.setItem("user",JSON.stringify(saveDataForeLater)),DataFromSupaBase.access_token=saveDataForeLater.access_token,DataFromSupaBase.expires=saveDataForeLater.expires,DataFromSupaBase.logged_in_via=saveDataForeLater.logged_in_via,saveDataForeLater}return console.error("Error signing in:",data),null}function adminLogin(){async function loginPromt(){const email=prompt("Indtast din email"),password=prompt("Indtast dit password");return await signIn(email,password)}if(localStorage.getItem("user")){const userdata=JSON.parse(localStorage.getItem("user"));return"anonymous@example.com"==userdata.logged_in_via||userdata.expires<Date.now()?loginPromt():userdata}return loginPromt()}