function getWeekNumber(date=new Date){date.setHours(0,0,0,0),date.setDate(date.getDate()+3-(date.getDay()+6)%7);const week1=new Date(date.getFullYear(),0,4);return Math.round((date.getTime()-week1.getTime())/864e5-3+(week1.getDay()+6)%7)/7+1}function getWeekDates(date=new Date){date.setHours(0,0,0,0);const isoDay=(date.getDay()+6)%7;date.setDate(date.getDate()-isoDay);const weekDates=[];for(let i=0;i<7;i++){const d=new Date(date);d.setDate(date.getDate()+i),weekDates.push(d.getDate()+". "+d.toLocaleString("default",{month:"short"}))}return weekDates}function renderWeek(date,setDatePicker=!0){const datePicker=document.getElementById("date_picker");if(setDatePicker){const oneDayAhead=new Date(date);oneDayAhead.setDate(oneDayAhead.getDate()+1),datePicker.value=oneDayAhead.toISOString().split("T")[0]}document.getElementById("week").textContent="Uge "+getWeekNumber(date),getWeekDates(date).forEach(((day,index)=>{document.getElementById("date"+index).textContent=day}))}document.addEventListener("DOMContentLoaded",(()=>{let currentDate=new Date;const datePicker=document.getElementById("date_picker");datePicker.setAttribute("min",currentDate.toISOString().split("T")[0]),renderWeek(currentDate),document.getElementById("next_week").addEventListener("click",(()=>{currentDate.setDate(currentDate.getDate()+7),renderWeek(currentDate)})),document.getElementById("prev_week").addEventListener("click",(()=>{currentDate.setDate(currentDate.getDate()-7),renderWeek(currentDate)})),datePicker.addEventListener("change",(()=>{const selectedDate=new Date(datePicker.value);currentDate=selectedDate,renderWeek(currentDate,!1)})),datePicker.addEventListener("click",(()=>{datePicker.showPicker()}))}));